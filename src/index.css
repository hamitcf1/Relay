@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   RELAY - Cyber-Concierge Theme
   ============================================ */

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --success: 158 64% 52%;
    --success-foreground: 0 0% 9%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 239 84% 67%;
    --radius: 0.75rem;

    /* Safe Area Variables */
    --sat: env(safe-area-inset-top);
    --sab: env(safe-area-inset-bottom);
    --sal: env(safe-area-inset-left);
    --sar: env(safe-area-inset-right);
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 346 87% 57%;
    --destructive-foreground: 0 0% 98%;
    --success: 158 64% 52%;
    --success-foreground: 0 0% 9%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 239 84% 67%;
  }

  .comfort {
    --background: 240 6% 12%;
    /* Deeper Slate #1a1a1e */
    --foreground: 240 5% 90%;
    /* Near White #e5e5e5 */
    --card: 240 6% 16%;
    /* Slightly lighter surface #242429 */
    --card-foreground: 240 5% 90%;
    --popover: 240 6% 16%;
    --popover-foreground: 240 5% 90%;
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 6% 20%;
    --secondary-foreground: 240 5% 90%;
    --muted: 240 6% 20%;
    --muted-foreground: 240 5% 65%;
    --accent: 240 6% 20%;
    --accent-foreground: 240 5% 90%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --success: 158 64% 52%;
    --success-foreground: 0 0% 9%;
    --border: 240 6% 22%;
    --input: 240 6% 22%;
    --ring: 239 84% 67%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
    color-scheme: light dark;
    /* Prevent text selection for app-like feel */
    user-select: none;
    -webkit-user-select: none;
    /* Full screen height */
    min-height: 100vh;
    min-height: -webkit-fill-available;
    /* Disable tap highlight on mobile */
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;

    /* Hide default cursor only when custom cursor is active */
  }

  body.custom-cursor-active {
    cursor: none !important;
  }

  /* Ensure interactive elements also hide cursor when custom cursor active */
  body.custom-cursor-active a,
  body.custom-cursor-active button,
  body.custom-cursor-active input,
  body.custom-cursor-active select,
  body.custom-cursor-active textarea,
  body.custom-cursor-active [role="button"],
  body.custom-cursor-active [type="text"],
  body.custom-cursor-active [type="password"],
  body.custom-cursor-active [type="email"],
  body.custom-cursor-active [type="number"],
  body.custom-cursor-active [contenteditable="true"] {
    cursor: none !important;
  }
}

/* Safe Header Utility */
.safe-header {
  padding-top: max(1rem, var(--sat));
  height: auto;
  min-height: calc(4rem + var(--sat));
}

/* Safe Area Utilities */
@layer utilities {
  .pt-safe {
    padding-top: var(--sat);
  }

  .pb-safe {
    padding-bottom: var(--sab);
  }

  .pl-safe {
    padding-left: var(--sal);
  }

  .pr-safe {
    padding-right: var(--sar);
  }

  .mt-safe {
    margin-top: var(--sat);
  }

  .mb-safe {
    margin-bottom: var(--sab);
  }

  .h-safe-screen {
    height: 100vh;
    height: -webkit-fill-available;
  }

  /* Hide scrollbar for clean UI */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

/* Date/Time Picker Icon Visibility */
input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator {
  cursor: pointer;
  opacity: 0.9;
  transition: opacity 0.2s;
}

input[type="date"]::-webkit-calendar-picker-indicator:hover,
input[type="time"]::-webkit-calendar-picker-indicator:hover {
  opacity: 1;
}

/* ============================================
   Glassmorphism Utilities
   ============================================ */

@layer utilities {
  .glass {
    @apply backdrop-blur-xl shadow-sm border;
    background-color: hsl(var(--card) / 0.82);
    border-color: hsl(var(--border) / 0.5);
  }

  .dark .glass {
    @apply shadow-none;
    background-color: hsl(var(--card) / 0.5);
  }

  .comfort .glass {
    @apply shadow-none;
    background-color: hsl(var(--card) / 0.7);
  }

  .glass-hover {
    @apply transition-all duration-300;
  }

  .glass-hover:hover {
    background-color: hsl(var(--accent) / 0.4);
    border-color: hsl(var(--primary) / 0.3);
  }

  .glow-primary {
    box-shadow: 0 0 20px theme('colors.indigo.500' / 25%),
      0 0 40px theme('colors.indigo.500' / 10%);
  }

  .glow-critical {
    box-shadow: 0 0 20px theme('colors.rose.500' / 35%),
      0 0 40px theme('colors.rose.500' / 15%);
  }

  .glow-success {
    box-shadow: 0 0 20px theme('colors.emerald.400' / 30%),
      0 0 40px theme('colors.emerald.400' / 10%);
  }

  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent;
  }

  .text-gradient-critical {
    @apply bg-gradient-to-r from-rose-500 to-orange-500 bg-clip-text text-transparent;
  }
}

/* ============================================
   Custom Scrollbar
   ============================================ */

@layer utilities {

  /* Custom Scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.zinc.300') transparent;
  }

  .dark .scrollbar-thin {
    scrollbar-color: theme('colors.zinc.700') transparent;
  }

  /* Webkit Scrollbar Styling (Global) */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-zinc-300 dark:bg-zinc-700 rounded-full border-2 border-transparent bg-clip-content;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-zinc-400 dark:bg-zinc-600;
  }
}

/* ============================================
   Animation Utilities
   ============================================ */

@layer utilities {
  .animate-glow-pulse {
    animation: glow-pulse 2s ease-in-out infinite;
  }

  @keyframes glow-pulse {

    0%,
    100% {
      opacity: 1;
      filter: brightness(1);
    }

    50% {
      opacity: 0.8;
      filter: brightness(1.2);
    }
  }

  .animate-slide-down {
    animation: slide-down 0.3s ease-out;
  }

  @keyframes slide-down {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}